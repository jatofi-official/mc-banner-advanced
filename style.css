body { background: #222; color: white; font-family: sans-serif; display: flex; justify-content: center; padding: 20px; }
.app-container { display: flex; gap: 30px; background: #333; padding: 25px; border-radius: 8px; border: 2px solid #000; }

#bannerCanvas { 
    background: #000; 
    border: 4px solid #111; 
    image-rendering: pixelated; 
    width: 160px; height: 320px;
}

/* Layer Row Layout */
.layer-row { 
    display: flex; align-items: center; gap: 15px; 
    background: #444; border: 2px solid #1e1e1e;
    padding: 8px 15px; margin-bottom: 5px; position: relative;
}

.layer-number { font-weight: bold; color: #ffcc00; width: 15px; }

/* HOVER SELECTOR LOGIC: Color */
.color-picker-container { position: relative; width: 24px; height: 24px; }
.swatch-group { 
    display: flex; flex-direction: column; position: absolute; 
    top: 0; left: 0; z-index: 10; background: #222; 
    border: 1px solid #000; padding: 2px;
    height: 24px; overflow: hidden; /* Only show first item */
}
.color-picker-container:hover .swatch-group { 
    height: auto; display: grid; grid-template-columns: repeat(4, 1fr); gap: 2px; 
    padding: 5px; border: 2px solid #fff;
}

.swatch { width: 20px; height: 20px; cursor: pointer; border: 1px solid #000; }
.swatch.active { order: -1; border: 2px solid white; } /* Keep active on top */

/* HOVER SELECTOR LOGIC: Pattern */
.pattern-picker-container { position: relative; width: 40px; height: 60px; }
.pattern-list {
    display: flex; flex-direction: column; position: absolute;
    top: 0; left: 0; z-index: 11; background: #222;
    border: 1px solid #000; height: 60px; overflow: hidden;
}
.pattern-picker-container:hover .pattern-list {
    height: auto; max-height: 300px; overflow-y: auto;
    width: 150px; display: grid; grid-template-columns: repeat(3, 1fr);
    padding: 5px; border: 2px solid #fff;
}

.pattern-item { padding: 2px; cursor: pointer; text-align: center; background: #333; }
.pattern-item:hover { background: #555; }
.pattern-item img { width: 30px; height: 60px; image-rendering: pixelated; background: #666; }
.pattern-item.active { order: -1; outline: 2px solid yellow; }

/* Cleanup */
.base-control { margin-top: 15px; padding: 10px; background: #444; border: 2px solid #000; }
button { margin-top: 10px; width: 100%; padding: 10px; cursor: pointer; background: #555; color: #fff; border: 1px solid #000; }